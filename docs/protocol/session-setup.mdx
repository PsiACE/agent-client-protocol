---
title: "Session Setup"
description: "Creating and managing sessions in the Agent Client Protocol"
---

Sessions represent a specific conversation or thread between the [Client](./overview#client) and [Agent](./overview#agent). Each session maintains its own context, conversation history, and state, allowing multiple independent interactions with the same Agent.

Before creating a session, Clients **MUST** first complete the [initialization](./initialization) phase to establish protocol compatibility and capabilities.

## Creating a Session

Clients create a new session by calling the `session/new` method with:

- The current working directory for the session
- A list of [MCP servers](#mcp-servers) the Agent should connect to

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "session/new",
  "params": {
    "mcpServers": [
      {
        "name": "filesystem",
        "command": "/path/to/mcp-server",
        "args": ["--stdio"],
        "env": []
      }
    ],
    "cwd": "/home/user/project"
  }
}
```

The Agent **MUST** respond with a unique session ID that identifies this conversation:

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "sessionId": "sess_abc123def456"
  }
}
```

## Session ID

The session ID returned by `session/new` is a unique identifier for the conversation context.

Clients use this session ID to:
- Send prompt requests via `session/prompt`
- Cancel ongoing operations via `session/cancel`
- Load previous sessions via `session/load` (if the Agent supports the `loadSession` capability)

## Working Directory

The `cwd` (current working directory) parameter establishes the file system context for the session. This directory:

- **SHOULD** be an absolute path in the User's file system.
- **SHOULD** be used as the boundary for tool operations on the file system
- **MUST** be used for the session regardless of where the Agent subprocess was spawned in

## MCP Servers

The [Model Context Protocol (MCP)](//modelcontextprotocol.io) allows Agents to access external tools and data sources. When creating a session, Clients **MAY** include connection details for MCP servers that the Agent should connect to.

Each MCP server specification includes:

- `name`: A human-readable identifier for the server
- `command`: The path to the MCP server executable
- `args`: Command-line arguments to pass to the server
- `env`: Environment variables to set when launching the server

Agents **SHOULD** connect to all MCP servers specified by the Client.

Clients **MAY** use this ability to provide tools directly to the underlying language model by including their own MCP server.
