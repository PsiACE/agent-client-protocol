{
  "$defs": {
    "Annotations": {
      "description": "Optional annotations for the client. The client can use annotations to inform how objects are used or displayed",
      "properties": {
        "audience": {
          "items": {
            "$ref": "#/$defs/Role"
          },
          "type": [
            "array",
            "null"
          ]
        },
        "lastModified": {
          "type": [
            "string",
            "null"
          ]
        },
        "priority": {
          "format": "double",
          "type": [
            "number",
            "null"
          ]
        }
      },
      "type": "object"
    },
    "AudioContent": {
      "description": "Audio provided to or from an LLM.",
      "properties": {
        "annotations": {
          "anyOf": [
            {
              "$ref": "#/$defs/Annotations"
            },
            {
              "type": "null"
            }
          ]
        },
        "data": {
          "type": "string"
        },
        "mimeType": {
          "type": "string"
        }
      },
      "required": [
        "data",
        "mimeType"
      ],
      "type": "object"
    },
    "BlobResourceContents": {
      "properties": {
        "blob": {
          "type": "string"
        },
        "mimeType": {
          "type": [
            "string",
            "null"
          ]
        },
        "uri": {
          "type": "string"
        }
      },
      "required": [
        "blob",
        "uri"
      ],
      "type": "object"
    },
    "ClientTools": {
      "properties": {
        "readTextFile": {
          "anyOf": [
            {
              "$ref": "#/$defs/McpToolId"
            },
            {
              "type": "null"
            }
          ]
        },
        "requestPermission": {
          "anyOf": [
            {
              "$ref": "#/$defs/McpToolId"
            },
            {
              "type": "null"
            }
          ]
        },
        "writeTextFile": {
          "anyOf": [
            {
              "$ref": "#/$defs/McpToolId"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "requestPermission",
        "writeTextFile",
        "readTextFile"
      ],
      "type": "object"
    },
    "ContentBlock": {
      "oneOf": [
        {
          "properties": {
            "annotations": {
              "anyOf": [
                {
                  "$ref": "#/$defs/Annotations"
                },
                {
                  "type": "null"
                }
              ]
            },
            "text": {
              "type": "string"
            },
            "type": {
              "const": "text",
              "type": "string"
            }
          },
          "required": [
            "type",
            "text"
          ],
          "type": "object"
        },
        {
          "properties": {
            "annotations": {
              "anyOf": [
                {
                  "$ref": "#/$defs/Annotations"
                },
                {
                  "type": "null"
                }
              ]
            },
            "data": {
              "type": "string"
            },
            "mimeType": {
              "type": "string"
            },
            "type": {
              "const": "image",
              "type": "string"
            }
          },
          "required": [
            "type",
            "data",
            "mimeType"
          ],
          "type": "object"
        },
        {
          "properties": {
            "annotations": {
              "anyOf": [
                {
                  "$ref": "#/$defs/Annotations"
                },
                {
                  "type": "null"
                }
              ]
            },
            "data": {
              "type": "string"
            },
            "mimeType": {
              "type": "string"
            },
            "type": {
              "const": "audio",
              "type": "string"
            }
          },
          "required": [
            "type",
            "data",
            "mimeType"
          ],
          "type": "object"
        },
        {
          "properties": {
            "annotations": {
              "anyOf": [
                {
                  "$ref": "#/$defs/Annotations"
                },
                {
                  "type": "null"
                }
              ]
            },
            "description": {
              "type": [
                "string",
                "null"
              ]
            },
            "mimeType": {
              "type": [
                "string",
                "null"
              ]
            },
            "name": {
              "type": "string"
            },
            "size": {
              "format": "int64",
              "type": [
                "integer",
                "null"
              ]
            },
            "title": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "const": "resource_link",
              "type": "string"
            },
            "uri": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "name",
            "uri"
          ],
          "type": "object"
        },
        {
          "properties": {
            "annotations": {
              "anyOf": [
                {
                  "$ref": "#/$defs/Annotations"
                },
                {
                  "type": "null"
                }
              ]
            },
            "resource": {
              "$ref": "#/$defs/EmbeddedResourceResource"
            },
            "type": {
              "const": "resource",
              "type": "string"
            }
          },
          "required": [
            "type",
            "resource"
          ],
          "type": "object"
        }
      ]
    },
    "Diff": {
      "properties": {
        "newText": {
          "type": "string"
        },
        "oldText": {
          "type": [
            "string",
            "null"
          ]
        },
        "path": {
          "type": "string"
        }
      },
      "required": [
        "path",
        "oldText",
        "newText"
      ],
      "type": "object"
    },
    "EmbeddedResource": {
      "description": "The contents of a resource, embedded into a prompt or tool call result.\n\nIt is up to the client how best to render embedded resources for the benefit\nof the LLM and/or the user.",
      "properties": {
        "annotations": {
          "anyOf": [
            {
              "$ref": "#/$defs/Annotations"
            },
            {
              "type": "null"
            }
          ]
        },
        "resource": {
          "$ref": "#/$defs/EmbeddedResourceResource"
        }
      },
      "required": [
        "resource"
      ],
      "type": "object"
    },
    "EmbeddedResourceResource": {
      "anyOf": [
        {
          "$ref": "#/$defs/TextResourceContents",
          "title": "TextResourceContents"
        },
        {
          "$ref": "#/$defs/BlobResourceContents",
          "title": "BlobResourceContents"
        }
      ]
    },
    "ImageContent": {
      "description": "An image provided to or from an LLM.",
      "properties": {
        "annotations": {
          "anyOf": [
            {
              "$ref": "#/$defs/Annotations"
            },
            {
              "type": "null"
            }
          ]
        },
        "data": {
          "type": "string"
        },
        "mimeType": {
          "type": "string"
        }
      },
      "required": [
        "data",
        "mimeType"
      ],
      "type": "object"
    },
    "LoadSessionArguments": {
      "properties": {
        "clientTools": {
          "$ref": "#/$defs/ClientTools"
        },
        "cwd": {
          "type": "string"
        },
        "mcpServers": {
          "additionalProperties": {
            "$ref": "#/$defs/McpServerConfig"
          },
          "type": "object"
        },
        "sessionId": {
          "type": "string"
        }
      },
      "required": [
        "mcpServers",
        "clientTools",
        "cwd",
        "sessionId"
      ],
      "type": "object"
    },
    "McpServerConfig": {
      "properties": {
        "args": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "command": {
          "type": "string"
        },
        "env": {
          "additionalProperties": {
            "type": "string"
          },
          "type": [
            "object",
            "null"
          ]
        }
      },
      "required": [
        "command",
        "args"
      ],
      "type": "object"
    },
    "McpToolId": {
      "properties": {
        "mcpServer": {
          "type": "string"
        },
        "toolName": {
          "type": "string"
        }
      },
      "required": [
        "mcpServer",
        "toolName"
      ],
      "type": "object"
    },
    "NewSessionArguments": {
      "properties": {
        "clientTools": {
          "$ref": "#/$defs/ClientTools"
        },
        "cwd": {
          "type": "string"
        },
        "mcpServers": {
          "additionalProperties": {
            "$ref": "#/$defs/McpServerConfig"
          },
          "type": "object"
        }
      },
      "required": [
        "mcpServers",
        "clientTools",
        "cwd"
      ],
      "type": "object"
    },
    "NewSessionOutput": {
      "properties": {
        "sessionId": {
          "type": "string"
        }
      },
      "required": [
        "sessionId"
      ],
      "type": "object"
    },
    "PermissionOption": {
      "properties": {
        "kind": {
          "$ref": "#/$defs/PermissionOptionKind"
        },
        "label": {
          "type": "string"
        },
        "optionId": {
          "type": "string"
        }
      },
      "required": [
        "optionId",
        "label",
        "kind"
      ],
      "type": "object"
    },
    "PermissionOptionKind": {
      "enum": [
        "allowOnce",
        "allowAlways",
        "rejectOnce",
        "rejectAlways"
      ],
      "type": "string"
    },
    "Plan": {
      "properties": {
        "entries": {
          "items": {
            "$ref": "#/$defs/PlanEntry"
          },
          "type": "array"
        }
      },
      "required": [
        "entries"
      ],
      "type": "object"
    },
    "PlanEntry": {
      "description": "A single entry in the execution plan.\n\nRepresents a task or goal that the assistant intends to accomplish\nas part of fulfilling the user's request.",
      "properties": {
        "content": {
          "description": "Description of what this task aims to accomplish",
          "type": "string"
        },
        "priority": {
          "$ref": "#/$defs/PlanEntryPriority",
          "description": "Relative importance of this task"
        },
        "status": {
          "$ref": "#/$defs/PlanEntryStatus",
          "description": "Current progress of this task"
        }
      },
      "required": [
        "content",
        "priority",
        "status"
      ],
      "type": "object"
    },
    "PlanEntryPriority": {
      "description": "Priority levels for plan entries.\n\nUsed to indicate the relative importance or urgency of different\ntasks in the execution plan.",
      "enum": [
        "high",
        "medium",
        "low"
      ],
      "type": "string"
    },
    "PlanEntryStatus": {
      "description": "Status of a plan entry in the execution flow.\n\nTracks the lifecycle of each task from planning through completion.",
      "enum": [
        "pending",
        "in_progress",
        "completed"
      ],
      "type": "string"
    },
    "PromptArguments": {
      "properties": {
        "prompt": {
          "items": {
            "$ref": "#/$defs/ContentBlock"
          },
          "type": "array"
        },
        "sessionId": {
          "type": "string"
        }
      },
      "required": [
        "sessionId",
        "prompt"
      ],
      "type": "object"
    },
    "ReadTextFileArguments": {
      "properties": {
        "limit": {
          "format": "uint32",
          "minimum": 0,
          "type": [
            "integer",
            "null"
          ]
        },
        "line": {
          "format": "uint32",
          "minimum": 0,
          "type": [
            "integer",
            "null"
          ]
        },
        "path": {
          "type": "string"
        },
        "sessionId": {
          "type": "string"
        }
      },
      "required": [
        "sessionId",
        "path"
      ],
      "type": "object"
    },
    "ReadTextFileOutput": {
      "properties": {
        "content": {
          "type": "string"
        }
      },
      "required": [
        "content"
      ],
      "type": "object"
    },
    "RequestPermissionArguments": {
      "properties": {
        "options": {
          "items": {
            "$ref": "#/$defs/PermissionOption"
          },
          "type": "array"
        },
        "sessionId": {
          "type": "string"
        },
        "toolCall": {
          "$ref": "#/$defs/ToolCall"
        }
      },
      "required": [
        "sessionId",
        "toolCall",
        "options"
      ],
      "type": "object"
    },
    "RequestPermissionOutcome": {
      "oneOf": [
        {
          "properties": {
            "outcome": {
              "const": "canceled",
              "type": "string"
            }
          },
          "required": [
            "outcome"
          ],
          "type": "object"
        },
        {
          "properties": {
            "optionId": {
              "type": "string"
            },
            "outcome": {
              "const": "selected",
              "type": "string"
            }
          },
          "required": [
            "outcome",
            "optionId"
          ],
          "type": "object"
        }
      ]
    },
    "RequestPermissionOutput": {
      "properties": {
        "outcome": {
          "$ref": "#/$defs/RequestPermissionOutcome"
        }
      },
      "required": [
        "outcome"
      ],
      "type": "object"
    },
    "ResourceLink": {
      "description": "A resource that the server is capable of reading, included in a prompt or tool call result.\n\nNote: resource links returned by tools are not guaranteed to appear in the results of `resources/list` requests.",
      "properties": {
        "annotations": {
          "anyOf": [
            {
              "$ref": "#/$defs/Annotations"
            },
            {
              "type": "null"
            }
          ]
        },
        "description": {
          "type": [
            "string",
            "null"
          ]
        },
        "mimeType": {
          "type": [
            "string",
            "null"
          ]
        },
        "name": {
          "type": "string"
        },
        "size": {
          "format": "int64",
          "type": [
            "integer",
            "null"
          ]
        },
        "title": {
          "type": [
            "string",
            "null"
          ]
        },
        "uri": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "uri"
      ],
      "type": "object"
    },
    "Role": {
      "description": "The sender or recipient of messages and data in a conversation.",
      "enum": [
        "assistant",
        "user"
      ],
      "type": "string"
    },
    "SessionUpdate": {
      "oneOf": [
        {
          "properties": {
            "sessionUpdate": {
              "const": "userMessage",
              "type": "string"
            }
          },
          "required": [
            "sessionUpdate"
          ],
          "type": "object"
        },
        {
          "properties": {
            "sessionUpdate": {
              "const": "agentMessageChunk",
              "type": "string"
            }
          },
          "required": [
            "sessionUpdate"
          ],
          "type": "object"
        },
        {
          "properties": {
            "sessionUpdate": {
              "const": "agentThoughtChunk",
              "type": "string"
            }
          },
          "required": [
            "sessionUpdate"
          ],
          "type": "object"
        },
        {
          "properties": {
            "content": {
              "items": {
                "$ref": "#/$defs/ToolCallContent"
              },
              "type": "array"
            },
            "kind": {
              "$ref": "#/$defs/ToolKind"
            },
            "label": {
              "type": "string"
            },
            "locations": {
              "items": {
                "$ref": "#/$defs/ToolCallLocation"
              },
              "type": "array"
            },
            "rawInput": true,
            "sessionUpdate": {
              "const": "toolCall",
              "type": "string"
            },
            "status": {
              "$ref": "#/$defs/ToolCallStatus"
            },
            "toolCallId": {
              "type": "string"
            }
          },
          "required": [
            "sessionUpdate",
            "toolCallId",
            "label",
            "kind",
            "status"
          ],
          "type": "object"
        },
        {
          "properties": {
            "content": {
              "items": {
                "$ref": "#/$defs/ToolCallContent"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "kind": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ToolKind"
                },
                {
                  "type": "null"
                }
              ]
            },
            "label": {
              "type": [
                "string",
                "null"
              ]
            },
            "locations": {
              "items": {
                "$ref": "#/$defs/ToolCallLocation"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "rawInput": true,
            "sessionUpdate": {
              "const": "toolCallUpdate",
              "type": "string"
            },
            "status": {
              "anyOf": [
                {
                  "$ref": "#/$defs/ToolCallStatus"
                },
                {
                  "type": "null"
                }
              ]
            },
            "toolCallId": {
              "type": "string"
            }
          },
          "required": [
            "sessionUpdate",
            "toolCallId"
          ],
          "type": "object"
        },
        {
          "properties": {
            "entries": {
              "items": {
                "$ref": "#/$defs/PlanEntry"
              },
              "type": "array"
            },
            "sessionUpdate": {
              "const": "plan",
              "type": "string"
            }
          },
          "required": [
            "sessionUpdate",
            "entries"
          ],
          "type": "object"
        }
      ]
    },
    "TextContent": {
      "description": "Text provided to or from an LLM.",
      "properties": {
        "annotations": {
          "anyOf": [
            {
              "$ref": "#/$defs/Annotations"
            },
            {
              "type": "null"
            }
          ]
        },
        "text": {
          "type": "string"
        }
      },
      "required": [
        "text"
      ],
      "type": "object"
    },
    "TextResourceContents": {
      "properties": {
        "mimeType": {
          "type": [
            "string",
            "null"
          ]
        },
        "text": {
          "type": "string"
        },
        "uri": {
          "type": "string"
        }
      },
      "required": [
        "text",
        "uri"
      ],
      "type": "object"
    },
    "ToolCall": {
      "properties": {
        "content": {
          "items": {
            "$ref": "#/$defs/ToolCallContent"
          },
          "type": "array"
        },
        "kind": {
          "$ref": "#/$defs/ToolKind"
        },
        "label": {
          "type": "string"
        },
        "locations": {
          "items": {
            "$ref": "#/$defs/ToolCallLocation"
          },
          "type": "array"
        },
        "rawInput": true,
        "status": {
          "$ref": "#/$defs/ToolCallStatus"
        },
        "toolCallId": {
          "type": "string"
        }
      },
      "required": [
        "toolCallId",
        "label",
        "kind",
        "status"
      ],
      "type": "object"
    },
    "ToolCallContent": {
      "anyOf": [
        {
          "title": "contentBlock"
        },
        {
          "properties": {
            "diff": {
              "$ref": "#/$defs/Diff"
            }
          },
          "required": [
            "diff"
          ],
          "title": "diff",
          "type": "object"
        }
      ]
    },
    "ToolCallLocation": {
      "properties": {
        "line": {
          "format": "uint32",
          "minimum": 0,
          "type": [
            "integer",
            "null"
          ]
        },
        "path": {
          "type": "string"
        }
      },
      "required": [
        "path"
      ],
      "type": "object"
    },
    "ToolCallStatus": {
      "oneOf": [
        {
          "const": "pending",
          "description": "The tool call is currently running",
          "type": "string"
        },
        {
          "const": "inProgress",
          "description": "The tool call is currently running",
          "type": "string"
        },
        {
          "const": "completed",
          "description": "The tool call completed successfully",
          "type": "string"
        },
        {
          "const": "failed",
          "description": "The tool call failed",
          "type": "string"
        }
      ]
    },
    "ToolCallUpdate": {
      "properties": {
        "content": {
          "items": {
            "$ref": "#/$defs/ToolCallContent"
          },
          "type": [
            "array",
            "null"
          ]
        },
        "kind": {
          "anyOf": [
            {
              "$ref": "#/$defs/ToolKind"
            },
            {
              "type": "null"
            }
          ]
        },
        "label": {
          "type": [
            "string",
            "null"
          ]
        },
        "locations": {
          "items": {
            "$ref": "#/$defs/ToolCallLocation"
          },
          "type": [
            "array",
            "null"
          ]
        },
        "rawInput": true,
        "status": {
          "anyOf": [
            {
              "$ref": "#/$defs/ToolCallStatus"
            },
            {
              "type": "null"
            }
          ]
        },
        "toolCallId": {
          "type": "string"
        }
      },
      "required": [
        "toolCallId"
      ],
      "type": "object"
    },
    "ToolKind": {
      "enum": [
        "read",
        "edit",
        "delete",
        "move",
        "search",
        "execute",
        "think",
        "fetch",
        "other"
      ],
      "type": "string"
    },
    "WriteTextFileArguments": {
      "properties": {
        "content": {
          "type": "string"
        },
        "path": {
          "type": "string"
        },
        "sessionId": {
          "type": "string"
        }
      },
      "required": [
        "sessionId",
        "path",
        "content"
      ],
      "type": "object"
    }
  },
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "anyOf": [
    {
      "$ref": "#/$defs/NewSessionArguments",
      "title": "NewSessionArguments"
    },
    {
      "$ref": "#/$defs/NewSessionOutput",
      "title": "NewSessionOutput"
    },
    {
      "$ref": "#/$defs/LoadSessionArguments",
      "title": "LoadSession"
    },
    {
      "$ref": "#/$defs/PromptArguments",
      "title": "Prompt"
    },
    {
      "$ref": "#/$defs/SessionUpdate",
      "title": "SessionUpdate"
    },
    {
      "$ref": "#/$defs/RequestPermissionArguments",
      "title": "RequestPermissionArguments"
    },
    {
      "$ref": "#/$defs/RequestPermissionOutput",
      "title": "RequestPermissionOutput"
    },
    {
      "$ref": "#/$defs/WriteTextFileArguments",
      "title": "WriteTextFile"
    },
    {
      "$ref": "#/$defs/ReadTextFileArguments",
      "title": "ReadTextFileArguments"
    },
    {
      "$ref": "#/$defs/ReadTextFileOutput",
      "title": "ReadTextFileOutput"
    }
  ]
}